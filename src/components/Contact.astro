---
import { Mail, MessageSquare, Send } from "lucide-preact";
import { getEntry } from "astro:content";

const personalEntry = await getEntry("siteConfig", "personal");
const email = personalEntry?.data.email || "email@example.com";
---

<section
    id="contact"
    class="py-32 relative bg-gray-50 dark:bg-neutral-950 transition-colors duration-300"
>
    <!-- Luxurious Top Border -->
    <div
        class="absolute top-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-portfolio-royal-blue to-transparent"
    >
    </div>
    <div
        class="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-1 bg-gradient-to-r from-portfolio-royal-blue via-portfolio-navy to-portfolio-royal-blue blur-sm"
    >
    </div>

    <div class="max-w-4xl mx-auto px-6">
        <div class="flex items-center justify-center mb-6">
            <div
                class="h-px w-16 bg-gradient-to-r from-transparent to-portfolio-royal-blue/50"
            >
            </div>
            <div
                class="mx-4 px-6 py-1 rounded-full border border-portfolio-royal-blue/20 bg-gradient-to-r from-portfolio-royal-blue/5 to-portfolio-navy/5"
            >
                <span
                    class="text-xs font-medium tracking-widest uppercase text-portfolio-royal-blue"
                    >Contact</span
                >
            </div>
            <div
                class="h-px w-16 bg-gradient-to-l from-transparent to-portfolio-navy/50"
            >
            </div>
        </div>

        <h2
            class="text-4xl md:text-6xl font-bold text-black dark:text-white mb-6 text-center animate-fade-in tracking-tight"
        >
            Get In Touch
        </h2>
        <p
            class="text-lg text-gray-700 dark:text-gray-400 text-center mb-20 max-w-2xl mx-auto animate-slide-in-left"
        >
            Have a project in mind or just want to chat? Feel free to reach out.
        </p>

        <div
            class="grid md:grid-cols-2 gap-12 items-start animate-slide-in-right"
        >
            <div class="space-y-6">
                <div
                    class="bg-gradient-to-br from-white to-gray-50 border-2 border-black/20 dark:bg-gradient-to-br dark:from-white/5 dark:to-white/[0.02] dark:border-white/20 p-8 rounded-2xl transition-all hover:shadow-xl shadow-lg relative overflow-hidden"
                >
                    <div
                        class="absolute top-0 left-0 w-1.5 h-full bg-gradient-to-b from-portfolio-navy to-portfolio-royal-blue"
                    >
                    </div>

                    <div class="flex items-start space-x-4 mb-8 relative z-10">
                        <div
                            class="p-4 rounded-xl bg-gradient-to-br from-portfolio-navy/30 to-portfolio-navy/10 border border-portfolio-navy/30 shadow-lg shadow-portfolio-navy/20"
                        >
                            <Mail class="text-portfolio-navy" size={24} />
                        </div>
                        <div>
                            <h3
                                class="text-xl font-semibold text-black dark:text-white mb-2 tracking-tight"
                            >
                                Email
                            </h3>
                            <p
                                class="text-gray-700 dark:text-gray-400 break-all"
                            >
                                {email}
                            </p>
                        </div>
                    </div>

                    <div
                        class="h-px bg-gradient-to-r from-transparent via-portfolio-navy/30 to-transparent mb-8"
                    >
                    </div>

                    <div class="flex items-start space-x-4 relative z-10">
                        <div
                            class="p-4 rounded-xl bg-gradient-to-br from-portfolio-royal-blue/30 to-portfolio-royal-blue/10 border border-portfolio-royal-blue/30 shadow-lg shadow-portfolio-royal-blue/20"
                        >
                            <MessageSquare
                                class="text-portfolio-royal-blue"
                                size={24}
                            />
                        </div>
                        <div>
                            <h3
                                class="text-xl font-semibold text-black dark:text-white mb-2 tracking-tight"
                            >
                                Response Time
                            </h3>
                            <p class="text-gray-700 dark:text-gray-400">
                                Usually within 24 hours
                            </p>
                        </div>
                    </div>
                </div>

                <p
                    class="text-sm text-gray-600 dark:text-gray-500 leading-relaxed"
                >
                    I'm always open to discussing new projects, creative ideas,
                    or opportunities to be part of your vision.
                </p>
            </div>

            <form
                id="contact-form"
                class="bg-gradient-to-br from-white to-gray-50 border-2 border-black/20 dark:bg-gradient-to-br dark:from-white/5 dark:to-white/[0.02] dark:border-white/20 p-8 rounded-2xl transition-all shadow-xl hover:shadow-2xl relative overflow-hidden"
            >
                <div
                    class="absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-portfolio-royal-blue/10 to-transparent rounded-bl-full"
                >
                </div>

                <div class="mb-6 relative z-10">
                    <label
                        for="name"
                        class="block text-gray-900 dark:text-gray-300 font-medium mb-2 text-sm tracking-wide"
                    >
                        Name
                    </label>
                    <input
                        type="text"
                        id="name"
                        name="name"
                        required
                        class="w-full px-4 py-3 rounded-xl transition-all bg-black/5 border-2 border-black/20 text-black focus:border-portfolio-navy/50 placeholder:text-gray-500 dark:bg-white/5 dark:border-white/20 dark:text-white dark:focus:border-portfolio-navy/50 dark:placeholder:text-gray-600 focus:outline-none shadow-sm focus:shadow-md"
                        placeholder="Your name"
                    />
                </div>

                <div class="mb-6 relative z-10">
                    <label
                        for="email"
                        class="block text-gray-900 dark:text-gray-300 font-medium mb-2 text-sm tracking-wide"
                    >
                        Email
                    </label>
                    <input
                        type="email"
                        id="email"
                        name="email"
                        required
                        class="w-full px-4 py-3 rounded-xl transition-all bg-black/5 border-2 border-black/20 text-black focus:border-portfolio-navy/50 placeholder:text-gray-500 dark:bg-white/5 dark:border-white/20 dark:text-white dark:focus:border-portfolio-navy/50 dark:placeholder:text-gray-600 focus:outline-none shadow-sm focus:shadow-md"
                        placeholder="your.email@example.com"
                    />
                </div>

                <div class="mb-6 relative z-10">
                    <label
                        for="message"
                        class="block text-gray-900 dark:text-gray-300 font-medium mb-2 text-sm tracking-wide"
                    >
                        Message
                    </label>
                    <textarea
                        id="message"
                        name="message"
                        required
                        rows="5"
                        class="w-full px-4 py-3 rounded-xl transition-all bg-black/5 border-2 border-black/20 text-black focus:border-portfolio-navy/50 placeholder:text-gray-500 dark:bg-white/5 dark:border-white/20 dark:text-white dark:focus:border-portfolio-navy/50 dark:placeholder:text-gray-600 focus:outline-none resize-none shadow-sm focus:shadow-md"
                        placeholder="Tell me about your project..."></textarea>
                </div>

                <button
                    type="submit"
                    class="relative w-full px-6 py-4 rounded-xl font-semibold transition-all hover:scale-[1.02] flex items-center justify-center space-x-2 overflow-hidden group shadow-lg hover:shadow-xl text-black dark:text-white"
                >
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-portfolio-navy to-portfolio-royal-blue"
                    >
                    </div>
                    <div
                        class="absolute inset-0 bg-gradient-to-r from-portfolio-royal-blue to-portfolio-navy opacity-0 group-hover:opacity-100 transition-opacity duration-500"
                    >
                    </div>
                    <span class="relative z-10">Send Message</span>
                    <Send size={18} class="relative z-10" />
                </button>
            </form>
        </div>

        <footer
            class="mt-20 text-center text-gray-500 dark:text-gray-600 text-sm"
        >
            <div class="flex items-center justify-center mb-6">
                <div
                    class="h-px w-24 bg-gradient-to-r from-transparent to-portfolio-navy/30"
                >
                </div>
                <div
                    class="mx-4 w-2 h-2 rounded-full bg-gradient-to-r from-portfolio-navy to-portfolio-royal-blue"
                >
                </div>
                <div
                    class="h-px w-24 bg-gradient-to-l from-transparent to-portfolio-royal-blue/30"
                >
                </div>
            </div>
            <p>&copy; {new Date().getFullYear()} MH. All rights reserved.</p>
        </footer>
    </div>
</section>

<style>
    .animate-fade-in {
        opacity: 0;
        animation: fadeIn 0.8s ease-out forwards;
    }
    .animate-slide-in-left {
        opacity: 0;
        transform: translateX(-30px);
        animation: slideInLeft 0.8s ease-out forwards 0.2s;
    }
    .animate-slide-in-right {
        opacity: 0;
        transform: translateX(30px);
        animation: slideInRight 0.8s ease-out forwards 0.4s;
    }

    @keyframes fadeIn {
        to {
            opacity: 1;
        }
    }
    @keyframes slideInLeft {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    @keyframes slideInRight {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
</style>

<script>
    const form = document.getElementById("contact-form") as HTMLFormElement;
    if (form) {
        form.addEventListener("submit", (e) => {
            e.preventDefault();
            const formData = new FormData(form);
            const data = Object.fromEntries(formData);
            console.log("Form submitted:", data);
            alert("Thank you for your message! I'll get back to you soon.");
            form.reset();
        });
    }
</script>
