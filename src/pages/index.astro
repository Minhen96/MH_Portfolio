---
import Layout from "../layouts/Layout.astro";
import IntroController from "../components/IntroController";
import Notes from "../components/Notes.astro";
import Navigation from "../components/Navigation.astro";
import Hero from "../components/Hero.astro";
import About from "../components/About.astro";
import Timeline from "../components/Timeline.astro";
import Hackathons from "../components/Hackathons.astro";
import Skills from "../components/Skills.astro";
import Projects from "../components/Projects.astro";
import Contact from "../components/Contact.astro";
import Footer from "../components/Footer.astro";
import { getEntry } from "astro:content";

const personalEntry = await getEntry("siteConfig", "personal");
const introEntry = await getEntry("siteConfig", "intro");

const personalData = personalEntry?.data ?? {
	name: "Yap Min Hen",
	title: "Full Stack Developer",
	email: "",
	phone: "",
	location: "",
	bio: "",
};
const introData = introEntry?.data ?? {
	greeting: "Hi",
	tagline: "Welcome",
	skipText: "Click to skip",
	enableSkip: false,
	introduction: [],
};
---

<Layout title={`${personalData.name} - ${personalData.title}`}>
	<div id="intro-overlay-container" class="relative z-[9999]">
		<IntroController
			client:only="preact"
			personal={personalData}
			intro={introData}
		/>
	</div>
	<Navigation />

	<main>
		<Hero />
		<About />
		<Timeline />
		<Skills />
		<Projects />
		<Hackathons />
		<Notes />
		<Contact />
		<Footer />
	</main>
</Layout>
